**This standalone module provides an example of consuming and viewing sendgrid email events.**

## Table of Contents

* [Quick Start for Local Testing with Sample Data](#quick_start_local_sample)
* [Quick Start for Local Testing with Real Data](#quick_start_local_real)
* [Deploy to Heroku](#heroku)

<a name="quick_start_local_sample"></a>
# Quick Start for Local Testing with Sample Data

Run the event webhook

```bash
docker-compose up webhook
```

In another terminal, run the test data sender:

```bash
docker-compose run --rm test
```

View the received events at [http://localhost:5000](http://localhost:5000), you can also filter by email as follows: [http://localhost:5000?email=foo@bar.com](http://localhost:5000?email=foo@bar.com)

<a name="quick_start_local_real"></a>
# Quick Start for Local Testing with Real Data

Run the event webhook

```bash
docker-compose up webhook
```

In another terminal, use [ngrok](https://ngrok.com/) to allow external access to your machine

```bash
ngrok http 5000
```

Update your SendGrid Email Event Notification settings: [Settings Page](https://app.sendgrid.com/settings/mail_settings) | [Docs](https://sendgrid.com/docs/API_Reference/Event_Webhook/getting_started_event_webhook.html)

- You should set the URL to the one generated by ngrok + /events, e.g http://XXXXXXX.ngrok.io/events

Next, send some emails from your Sendgrid account and you should see the events appearing [here](http://localhost:5000).

<a name="heroku"></a>
# Deploy to Heroku

Get a [Heroku](https://www.heroku.com) account.

[![Deploy](https://www.herokucdn.com/deploy/button.svg)](https://heroku.com/deploy?template=https://github.com/sendgrid/sendgrid-python/tree/master)

Copy and paste this project into a new git repo, ensuring this folder is the base directory, then follow the instructions shown when you create your Heroku app.

Update your SendGrid Email Event Notification settings: [Settings Page](https://app.sendgrid.com/settings/mail_settings) | [Docs](https://sendgrid.com/docs/API_Reference/Event_Webhook/getting_started_event_webhook.html)

- You should set the URL to the one generated by Heroku + /events, e.g https://[name-of-your-app].herokuapp.com/events

Next, send some emails from your Sendgrid account and you should see the events appearing at https://[name-of-your-app].herokuapp.com/

**Email events will not persist between deploys and may be lost when Heroku switches off Dynos on the free plan**

<a name="contributing"></a>
# Contributing

If you would like to contribute to this project, please see our [contributing guide](https://github.com/sendgrid/sendgrid-python/blob/master/CONTRIBUTING.md). Thanks!
